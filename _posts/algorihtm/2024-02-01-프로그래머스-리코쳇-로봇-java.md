---
title: "[í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ë¦¬ì½”ì³‡ ë¡œë´‡ - Java"
date: 2024-02-01 00:07 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, í”„ë¡œê·¸ë˜ë¨¸ìŠ¤]
tags: [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤, bfs]
math: true
toc: true
author: suyeonsu
# pin: false
# image:
#   path: 
#   alt: ""
---

## ë¬¸ì œ

[ë¦¬ì½”ì³‡ ë¡œë´‡](https://school.programmers.co.kr/learn/courses/30/lessons/169199)

<br>

## ì•„ì´ë””ì–´

> bfs íƒìƒ‰ìœ¼ë¡œ ëª©í‘œì§€ì (G)ê¹Œì§€ ìµœì†Œ ì´ë™ íšŸìˆ˜ë¥¼ êµ¬í•œë‹¤.  
> ğŸ‘‰ğŸ» íì— ì €ì¥í•  ì •ë³´ëŠ” **í˜„ì¬ ì¢Œí‘œ(`x, y`)**ì™€ **í˜„ì¬ ì¢Œí‘œê¹Œì§€ì˜ ì´ë™ íšŸìˆ˜(`c`)**  
><br>
>ì´ ë•Œ í•µì‹¬ì€ í•œ ì¹¸ì”© ì´ë™í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **ì¥ì• ë¬¼ Dê°€ ë‚˜íƒ€ë‚˜ê¸° ì „ê¹Œì§€ë¥¼ 1ë²ˆì˜ ì´ë™**ìœ¼ë¡œ ì¹œë‹¤.  
> ğŸ‘‰ğŸ» í˜„ì¬ ì¢Œí‘œ `x, y`ì—ì„œ ìƒí•˜ì¢Œìš° ë°©í–¥(`dx, dy`)ì˜ **ë‹¤ìŒ ì´ë™í•  ì¢Œí‘œ `nx, ny`ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œ ë°˜ë³µë¬¸ì´ í•„ìš”**í•˜ë‹¤.  
><br>
>ì´ë™í•  ë‹¤ìŒ ì¢Œí‘œ `nx, ny`ë¥¼ ì°¾ì•˜ì„ ë•,  
>**`í˜„ì¬ ì´ë™ íšŸìˆ˜+1`** < **`ì§€ê¸ˆê¹Œì§€ ì €ì¥ëœ íšŸìˆ˜` ì¼ ë•Œ**ë§Œ **<u>ê°’ì„ ê°±ì‹ í•˜ê³  íì— ì¶”ê°€</u>**í•´ì¤€ë‹¤. (ê·¸ ì™¸ëŠ” íƒìƒ‰í•  ê°€ì¹˜ê°€ ì—†ìŒ)  
> ğŸ‘‰ğŸ» **ìµœì†Œ ì´ë™ íšŸìˆ˜ë¥¼ ì €ì¥í•´ ë‘˜ 2ì°¨ì› ë°°ì—´ì´ í•„ìš”**  
{: .prompt-tip }

<br>

1. ë¨¼ì € ì¶œë°œ ì§€ì (R)ê³¼ ëª©í‘œ ì§€ì (G)ì„ ì°¾ëŠ”ë‹¤.  
```java
    for (int i=0; i<n; i++) {
        for (int j=0; j<m; j++) {
            if (board[i].charAt(j) == 'R') {
                rx = i;
                ry = j;
                break;
            } else if (board[i].charAt(j) == 'G') {
                gx = i;
                gy = j;
                break;
            }
        }
    }
```

2. ì¶œë°œì§€ì ë¶€í„° bfs íƒìƒ‰ì„ ì‹œì‘í•œë‹¤.  
```java
    Queue<List<Integer>> dq = new LinkedList<>();
    dq.offer(Arrays.asList(rx, ry, 0));
    cnt[rx][ry] = 0;
```
    ë§Œì•½ í˜„ì¬ ì¢Œí‘œ`(x, y)`ê°€ ëª©í‘œ ì§€ì `(gx, gy)`ì´ë¼ë©´ `cnt`ì— ìµœì†Œ ê°’ì„ ê°±ì‹ í•´ì£¼ê³  íƒìƒ‰ì„ ì¢…ë£Œí•œë‹¤.  

    ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ìƒí•˜ì¢Œìš° ë°©í–¥`(dx, dy)`ìœ¼ë¡œ ì´ë™ ê°€ëŠ¥í•œ ë‹¤ìŒ ì¢Œí‘œ`(nx, ny)`ë¥¼ ì°¾ëŠ”ë‹¤.  

    ì´ ë•Œ, `ë‹¤ìŒ ì¢Œí‘œì˜ ì´ë™ íšŸìˆ˜ cnt[nx][ny]` < `í˜„ì¬ ì´ë™ íšŸìˆ˜ c + 1`ì¸ ê²½ìš°ì— ê°’ì„ ê°±ì‹ í•˜ê³  íì— ì¶”ê°€í•œë‹¤.  
```java
    while (!dq.isEmpty()) {
        List<Integer> cur = dq.poll();
        int x = cur.get(0);
        int y = cur.get(1);
        int c = cur.get(2);
        if (x == gx && y == gy) {
            cnt[x][y] = Math.min(cnt[x][y], c);
            break;
        }
        for (int i=0; i<4; i++) {
            int nx = x+dx[i];
            int ny = y+dy[i];
            while (0 <= nx && nx < n && 0 <= ny && ny < m && board[nx].charAt(ny) != 'D') {
                nx += dx[i];
                ny += dy[i];
            }
            nx -= dx[i];
            ny -= dy[i];
            if (cnt[nx][ny] > c+1) {
                cnt[nx][ny] = c+1;
                dq.offer(Arrays.asList(nx, ny, c+1));
            }
        }
    }
```

3. ëª©í‘œ ì§€ì ì˜ cntê°’ì„ ë°˜í™˜í•œë‹¤.  
(í•´ë‹¹ ê°’ì´ MAX_VALUEë¼ë©´ íƒìƒ‰ ë¶ˆê°€ëŠ¥í•œ ê²½ë¡œì´ë¯€ë¡œ -1ì„ ë°˜í™˜)  
```java
    return cnt[gx][gy] != Integer.MAX_VALUE ? cnt[gx][gy] : -1;
```

<br>

## ì „ì²´ ì½”ë“œ 

```java
import java.util.*;

class Solution {
    int[] dx = {0, -1, 0, 1};
    int[] dy = {-1, 0, 1, 0};
    int n, m;
    int[][] cnt;
    int rx, ry, gx, gy;
    
    public int solution(String[] board) {
        n = board.length;
        m = board[0].length();
        cnt = new int[n][m];
        for (int[] c: cnt) {
            Arrays.fill(c, Integer.MAX_VALUE);
        }
        for (int i=0; i<n; i++) {
            for (int j=0; j<m; j++) {
                if (board[i].charAt(j) == 'R') {
                    rx = i;
                    ry = j;
                    break;
                } else if (board[i].charAt(j) == 'G') {
                    gx = i;
                    gy = j;
                    break;
                }
            }
        }

        Queue<List<Integer>> dq = new LinkedList<>();
        dq.offer(Arrays.asList(rx, ry, 0));
        cnt[rx][ry] = 0;
        while (!dq.isEmpty()) {
            List<Integer> cur = dq.poll();
            int x = cur.get(0);
            int y = cur.get(1);
            int c = cur.get(2);
            if (x == gx && y == gy) {
                cnt[x][y] = Math.min(cnt[x][y], c);
                break;
            }
            for (int i=0; i<4; i++) {
                int nx = x+dx[i];
                int ny = y+dy[i];
                while (0 <= nx && nx < n && 0 <= ny && ny < m && board[nx].charAt(ny) != 'D') {
                    nx += dx[i];
                    ny += dy[i];
                }
                nx -= dx[i];
                ny -= dy[i];
                if (cnt[nx][ny] > c+1) {
                    cnt[nx][ny] = c+1;
                    dq.offer(Arrays.asList(nx, ny, c+1));
                }
            }
        }
        return cnt[gx][gy] != Integer.MAX_VALUE ? cnt[gx][gy] : -1;
    }
}
```

<br>

## ë…¸íŠ¸

- 2ì°¨ì› ë°°ì—´ì„ íŠ¹ì • ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ê¸°  
*(íŒŒì´ì¬ì€ ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í•¸ì…˜ì„ ì‚¬ìš©í•œë‹¤)*
```java
    int[][] arr = new int[4][4];
    for (int[] a: arr) {
        Arrays.fill(a, value);
    }
```

- íì˜ ì›ì†Œë¡œ ë¦¬ìŠ¤íŠ¸ ë„£ê¸°  
```java
    Queue<List<Integer>> dq = new LinkedList<>();
    dq.offer(Arrays.asList(x, y, 0));
```